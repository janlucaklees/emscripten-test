"use strict";(self.webpackChunkLucii=self.webpackChunkLucii||[]).push([[143],{4109:(t,e,n)=>{n.r(e),n.d(e,{default:()=>a});var r;n(1539),n(8674),n(9601),n(2772),n(4986),n(4916),n(5306),n(6992),n(9575),n(2472),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(4812),n(7145),n(5109),n(5125),n(8255),n(9135),n(4197),n(6495),n(6755),n(8783),n(3948),n(285),n(1637),n(8309),n(3710),n(9714),n(8011),n(9554),n(4747),n(7941),n(489),n(2222),n(6699),n(2023),n(9600),n(1249),n(561),n(2526),n(1817),n(9070),n(8264),n(9743),n(3843),n(545),n(2564),n(2165),n(6649),n(6078),n(9653);function i(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}const a=(r="file:///home/jlk/Projects/KAIZN/lucii/src/web/Simulator.js",function(){return function(t){var e,a;(t=void 0!==t?t:{}).ready=new Promise((function(t,n){e=t,a=n}));var s,u=Object.assign({},t),c=!0,l=!1,f="";(c||l)&&(l?f=self.location.href:"undefined"!=typeof document&&document.currentScript&&(f=document.currentScript.src),r&&(f=r),f=0!==f.indexOf("blob:")?f.substr(0,f.replace(/[?#].*/,"").lastIndexOf("/")+1):"",l&&(s=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)})),t.print||console.log.bind(console);var p,h,d=t.printErr||console.warn.bind(console);Object.assign(t,u),u=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit,t.wasmBinary&&(p=t.wasmBinary),t.noExitRuntime,"object"!=("undefined"==typeof WebAssembly?"undefined":o(WebAssembly))&&R("no native wasm support detected");var v,y,m,g,b,w,P,$,C,T=!1,_="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function S(t,e){return t?function(t,e,n){for(var r=e+n,i=e;t[i]&&!(i>=r);)++i;if(i-e>16&&t.buffer&&_)return _.decode(t.subarray(e,i));for(var o="";e<i;){var a=t[e++];if(128&a){var s=63&t[e++];if(192!=(224&a)){var u=63&t[e++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&t[e++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}(y,t,e):""}function A(){var e=h.buffer;t.HEAP8=v=new Int8Array(e),t.HEAP16=m=new Int16Array(e),t.HEAP32=b=new Int32Array(e),t.HEAPU8=y=new Uint8Array(e),t.HEAPU16=g=new Uint16Array(e),t.HEAPU32=w=new Uint32Array(e),t.HEAPF32=P=new Float32Array(e),t.HEAPF64=$=new Float64Array(e)}var k=[],O=[],W=[],j=0,E=null,F=null;function R(e){t.onAbort&&t.onAbort(e),d(e="Aborted("+e+")"),T=!0,e+=". Build with -sASSERTIONS for more info.";var n=new WebAssembly.RuntimeError(e);throw a(n),n}var x,D,I="data:application/octet-stream;base64,";function M(t){return t.startsWith(I)}function U(t){try{if(t==x&&p)return new Uint8Array(p);if(s)return s(t);throw"both async and sync fetching of the wasm failed"}catch(t){R(t)}}function z(t,e,n){return function(t){return p||!c&&!l||"function"!=typeof fetch?Promise.resolve().then((function(){return U(t)})):fetch(t,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()})).catch((function(){return U(t)}))}(t).then((function(t){return WebAssembly.instantiate(t,e)})).then((function(t){return t})).then(n,(function(t){d("failed to asynchronously prepare wasm: "+t),R(t)}))}function H(e){for(;e.length>0;)e.shift()(t)}function V(t){this.excPtr=t,this.ptr=t-24,this.set_type=function(t){w[this.ptr+4>>2]=t},this.get_type=function(){return w[this.ptr+4>>2]},this.set_destructor=function(t){w[this.ptr+8>>2]=t},this.get_destructor=function(){return w[this.ptr+8>>2]},this.set_refcount=function(t){b[this.ptr>>2]=t},this.set_caught=function(t){t=t?1:0,v[this.ptr+12>>0]=t},this.get_caught=function(){return 0!=v[this.ptr+12>>0]},this.set_rethrown=function(t){t=t?1:0,v[this.ptr+13>>0]=t},this.get_rethrown=function(){return 0!=v[this.ptr+13>>0]},this.init=function(t,e){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(e),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var t=b[this.ptr>>2];b[this.ptr>>2]=t+1},this.release_ref=function(){var t=b[this.ptr>>2];return b[this.ptr>>2]=t-1,1===t},this.set_adjusted_ptr=function(t){w[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return w[this.ptr+16>>2]},this.get_exception_ptr=function(){if(be(this.get_type()))return w[this.excPtr>>2];var t=this.get_adjusted_ptr();return 0!==t?t:this.excPtr}}function L(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}t.locateFile?M(x="Simulator.wasm")||(D=x,x=t.locateFile?t.locateFile(D,f):f+D):x=new URL(n(3181),n.b).href;var B=void 0;function G(t){for(var e="",n=t;y[n];)e+=B[y[n++]];return e}var N={},q={},K={},Z=48,X=57;function J(t){if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=Z&&e<=X?"_"+t:t}function Q(t,e){return i({},t=J(t),(function(){return e.apply(this,arguments)}))[t]}function Y(t,e){var n=Q(e,(function(t){this.name=e,this.message=t;var n=new Error(t).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var tt=void 0;function et(t){throw new tt(t)}var nt=void 0;function rt(t){throw new nt(t)}function it(t,e,n){function r(e){var r=n(e);r.length!==t.length&&rt("Mismatched type converter count");for(var i=0;i<t.length;++i)ot(t[i],r[i])}t.forEach((function(t){K[t]=e}));var i=new Array(e.length),o=[],a=0;e.forEach((function(t,e){q.hasOwnProperty(t)?i[e]=q[t]:(o.push(t),N.hasOwnProperty(t)||(N[t]=[]),N[t].push((function(){i[e]=q[t],++a===o.length&&r(i)})))})),0===o.length&&r(i)}function ot(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=e.name;if(t||et('type "'+r+'" must have a positive integer typeid pointer'),q.hasOwnProperty(t)){if(n.ignoreDuplicateRegistrations)return;et("Cannot register type '"+r+"' twice")}if(q[t]=e,delete K[t],N.hasOwnProperty(t)){var i=N[t];delete N[t],i.forEach((function(t){return t()}))}}function at(t){if(!(this instanceof kt))return!1;if(!(t instanceof kt))return!1;for(var e=this.$$.ptrType.registeredClass,n=this.$$.ptr,r=t.$$.ptrType.registeredClass,i=t.$$.ptr;e.baseClass;)n=e.upcast(n),e=e.baseClass;for(;r.baseClass;)i=r.upcast(i),r=r.baseClass;return e===r&&n===i}function st(t){et(t.$$.ptrType.registeredClass.name+" instance already deleted")}var ut=!1;function ct(t){}function lt(t){t.count.value-=1,0===t.count.value&&function(t){t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)}(t)}function ft(t,e,n){if(e===n)return t;if(void 0===n.baseClass)return null;var r=ft(t,e,n.baseClass);return null===r?null:n.downcast(r)}var pt={};function ht(){return Object.keys(bt).length}function dt(){var t=[];for(var e in bt)bt.hasOwnProperty(e)&&t.push(bt[e]);return t}var vt=[];function yt(){for(;vt.length;){var t=vt.pop();t.$$.deleteScheduled=!1,t.delete()}}var mt=void 0;function gt(t){mt=t,vt.length&&mt&&mt(yt)}var bt={};function wt(t,e){return e=function(t,e){for(void 0===e&&et("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e}(t,e),bt[e]}function Pt(t,e){return e.ptrType&&e.ptr||rt("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!=!!e.smartPtr&&rt("Both smartPtrType and smartPtr must be specified"),e.count={value:1},Ct(Object.create(t,{$$:{value:e}}))}function $t(t){var e=this.getPointee(t);if(!e)return this.destructor(t),null;var n=wt(this.registeredClass,e);if(void 0!==n){if(0===n.$$.count.value)return n.$$.ptr=e,n.$$.smartPtr=t,n.clone();var r=n.clone();return this.destructor(t),r}function i(){return this.isSmartPointer?Pt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:t}):Pt(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var o,a=this.registeredClass.getActualType(e),s=pt[a];if(!s)return i.call(this);o=this.isConst?s.constPointerType:s.pointerType;var u=ft(e,this.registeredClass,o.registeredClass);return null===u?i.call(this):this.isSmartPointer?Pt(o.registeredClass.instancePrototype,{ptrType:o,ptr:u,smartPtrType:this,smartPtr:t}):Pt(o.registeredClass.instancePrototype,{ptrType:o,ptr:u})}function Ct(t){return"undefined"==typeof FinalizationRegistry?(Ct=function(t){return t},t):(ut=new FinalizationRegistry((function(t){lt(t.$$)})),Ct=function(t){var e=t.$$;if(e.smartPtr){var n={$$:e};ut.register(t,n,t)}return t},ct=function(t){return ut.unregister(t)},Ct(t))}function Tt(){if(this.$$.ptr||st(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t,e=Ct(Object.create(Object.getPrototypeOf(this),{$$:{value:(t=this.$$,{count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType})}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function _t(){this.$$.ptr||st(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&et("Object already scheduled for deletion"),ct(this),lt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function St(){return!this.$$.ptr}function At(){return this.$$.ptr||st(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&et("Object already scheduled for deletion"),vt.push(this),1===vt.length&&mt&&mt(yt),this.$$.deleteScheduled=!0,this}function kt(){}function Ot(t,e,n){if(void 0===t[e].overloadTable){var r=t[e];t[e]=function(){return t[e].overloadTable.hasOwnProperty(arguments.length)||et("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[e].overloadTable+")!"),t[e].overloadTable[arguments.length].apply(this,arguments)},t[e].overloadTable=[],t[e].overloadTable[r.argCount]=r}}function Wt(t,e,n,r,i,o,a,s){this.name=t,this.constructor=e,this.instancePrototype=n,this.rawDestructor=r,this.baseClass=i,this.getActualType=o,this.upcast=a,this.downcast=s,this.pureVirtualFunctions=[]}function jt(t,e,n){for(;e!==n;)e.upcast||et("Expected null or instance of "+n.name+", got an instance of "+e.name),t=e.upcast(t),e=e.baseClass;return t}function Et(t,e){if(null===e)return this.isReference&&et("null is not a valid "+this.name),0;e.$$||et('Cannot pass "'+re(e)+'" as a '+this.name),e.$$.ptr||et("Cannot pass deleted object as a pointer of type "+this.name);var n=e.$$.ptrType.registeredClass;return jt(e.$$.ptr,n,this.registeredClass)}function Ft(t,e){var n;if(null===e)return this.isReference&&et("null is not a valid "+this.name),this.isSmartPointer?(n=this.rawConstructor(),null!==t&&t.push(this.rawDestructor,n),n):0;e.$$||et('Cannot pass "'+re(e)+'" as a '+this.name),e.$$.ptr||et("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&e.$$.ptrType.isConst&&et("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);var r=e.$$.ptrType.registeredClass;if(n=jt(e.$$.ptr,r,this.registeredClass),this.isSmartPointer)switch(void 0===e.$$.smartPtr&&et("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?n=e.$$.smartPtr:et("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:n=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)n=e.$$.smartPtr;else{var i=e.clone();n=this.rawShare(n,ne.toHandle((function(){i.delete()}))),null!==t&&t.push(this.rawDestructor,n)}break;default:et("Unsupporting sharing policy")}return n}function Rt(t,e){if(null===e)return this.isReference&&et("null is not a valid "+this.name),0;e.$$||et('Cannot pass "'+re(e)+'" as a '+this.name),e.$$.ptr||et("Cannot pass deleted object as a pointer of type "+this.name),e.$$.ptrType.isConst&&et("Cannot convert argument of type "+e.$$.ptrType.name+" to parameter type "+this.name);var n=e.$$.ptrType.registeredClass;return jt(e.$$.ptr,n,this.registeredClass)}function xt(t){return this.fromWireType(b[t>>2])}function Dt(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t}function It(t){this.rawDestructor&&this.rawDestructor(t)}function Mt(t){null!==t&&t.delete()}function Ut(t,e,n,r,i,o,a,s,u,c,l){this.name=t,this.registeredClass=e,this.isReference=n,this.isConst=r,this.isSmartPointer=i,this.pointeeType=o,this.sharingPolicy=a,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=c,this.rawDestructor=l,i||void 0!==e.baseClass?this.toWireType=Ft:r?(this.toWireType=Et,this.destructorFunction=null):(this.toWireType=Rt,this.destructorFunction=null)}var zt=[];function Ht(t){var e=zt[t];return e||(t>=zt.length&&(zt.length=t+1),zt[t]=e=C.get(t)),e}function Vt(e,n,r){return e.includes("j")?function(e,n,r){var i=t["dynCall_"+e];return r&&r.length?i.apply(null,[n].concat(r)):i.call(null,n)}(e,n,r):Ht(n).apply(null,r)}function Lt(t,e){var n,r,i,o=(t=G(t)).includes("j")?(n=t,r=e,i=[],function(){return i.length=0,Object.assign(i,arguments),Vt(n,r,i)}):Ht(e);return"function"!=typeof o&&et("unknown function pointer with signature "+t+": "+e),o}var Bt=void 0;function Gt(t){var e=ye(t),n=G(e);return ge(e),n}function Nt(t,e){var n=[],r={};throw e.forEach((function t(e){r[e]||q[e]||(K[e]?K[e].forEach(t):(n.push(e),r[e]=!0))})),new Bt(t+": "+n.map(Gt).join([", "]))}function qt(t,e){for(var n=[],r=0;r<t;r++)n.push(w[e+4*r>>2]);return n}function Kt(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function Zt(t,e,n,r,i,a){var s=e.length;s<2&&et("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var u=null!==e[1]&&null!==n,c=!1,l=1;l<e.length;++l)if(null!==e[l]&&void 0===e[l].destructorFunction){c=!0;break}var f="void"!==e[0].name,p="",h="";for(l=0;l<s-2;++l)p+=(0!==l?", ":"")+"arg"+l,h+=(0!==l?", ":"")+"arg"+l+"Wired";var d="return function "+J(t)+"("+p+") {\nif (arguments.length !== "+(s-2)+") {\nthrowBindingError('function "+t+" called with ' + arguments.length + ' arguments, expected "+(s-2)+" args!');\n}\n";c&&(d+="var destructors = [];\n");var v=c?"destructors":"null",y=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],m=[et,r,i,Kt,e[0],e[1]];for(u&&(d+="var thisWired = classParam.toWireType("+v+", this);\n"),l=0;l<s-2;++l)d+="var arg"+l+"Wired = argType"+l+".toWireType("+v+", arg"+l+"); // "+e[l+2].name+"\n",y.push("argType"+l),m.push(e[l+2]);if(u&&(h="thisWired"+(h.length>0?", ":"")+h),d+=(f||a?"var rv = ":"")+"invoker(fn"+(h.length>0?", ":"")+h+");\n",c)d+="runDestructors(destructors);\n";else for(l=u?1:2;l<e.length;++l){var g=1===l?"thisWired":"arg"+(l-2)+"Wired";null!==e[l].destructorFunction&&(d+=g+"_dtor("+g+"); // "+e[l].name+"\n",y.push(g+"_dtor"),m.push(e[l].destructorFunction))}return f&&(d+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),d+="}\n",y.push(d),function(t,e){if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+o(t)+" which is not a function");var n=Q(t.name||"unknownFunctionName",(function(){}));n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return i instanceof Object?i:r}(Function,y).apply(null,m)}function Xt(t,e,n){return t instanceof Object||et(n+' with invalid "this": '+t),t instanceof e.registeredClass.constructor||et(n+' incompatible with "this" of type '+t.constructor.name),t.$$.ptr||et("cannot call emscripten binding method "+n+" on deleted object"),jt(t.$$.ptr,t.$$.ptrType.registeredClass,e.registeredClass)}var Jt=[],Qt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Yt(t){t>4&&0==--Qt[t].refcount&&(Qt[t]=void 0,Jt.push(t))}function te(){for(var t=0,e=5;e<Qt.length;++e)void 0!==Qt[e]&&++t;return t}function ee(){for(var t=5;t<Qt.length;++t)if(void 0!==Qt[t])return Qt[t];return null}var ne={toValue:function(t){return t||et("Cannot use deleted val. handle = "+t),Qt[t].value},toHandle:function(t){switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=Jt.length?Jt.pop():Qt.length;return Qt[e]={refcount:1,value:t},e}}};function re(t){if(null===t)return"null";var e=o(t);return"object"===e||"array"===e||"function"===e?t.toString():""+t}function ie(t,e){switch(e){case 2:return function(t){return this.fromWireType(P[t>>2])};case 3:return function(t){return this.fromWireType($[t>>3])};default:throw new TypeError("Unknown float type: "+t)}}function oe(t,e,n){switch(e){case 0:return n?function(t){return v[t]}:function(t){return y[t]};case 1:return n?function(t){return m[t>>1]}:function(t){return g[t>>1]};case 2:return n?function(t){return b[t>>2]}:function(t){return w[t>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var ae="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function se(t,e){for(var n=t,r=n>>1,i=r+e/2;!(r>=i)&&g[r];)++r;if((n=r<<1)-t>32&&ae)return ae.decode(y.subarray(t,n));for(var o="",a=0;!(a>=e/2);++a){var s=m[t+2*a>>1];if(0==s)break;o+=String.fromCharCode(s)}return o}function ue(t,e,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=e,i=(n-=2)<2*t.length?n/2:t.length,o=0;o<i;++o){var a=t.charCodeAt(o);m[e>>1]=a,e+=2}return m[e>>1]=0,e-r}function ce(t){return 2*t.length}function le(t,e){for(var n=0,r="";!(n>=e/4);){var i=b[t+4*n>>2];if(0==i)break;if(++n,i>=65536){var o=i-65536;r+=String.fromCharCode(55296|o>>10,56320|1023&o)}else r+=String.fromCharCode(i)}return r}function fe(t,e,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var r=e,i=r+n-4,o=0;o<t.length;++o){var a=t.charCodeAt(o);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++o)),b[e>>2]=a,(e+=4)+4>i)break}return b[e>>2]=0,e-r}function pe(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);r>=55296&&r<=57343&&++n,e+=4}return e}function he(t){var e=h.buffer;try{return h.grow(t-e.byteLength+65535>>>16),A(),1}catch(t){}}!function(){for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);B=t}(),tt=t.BindingError=Y(Error,"BindingError"),nt=t.InternalError=Y(Error,"InternalError"),kt.prototype.isAliasOf=at,kt.prototype.clone=Tt,kt.prototype.delete=_t,kt.prototype.isDeleted=St,kt.prototype.deleteLater=At,t.getInheritedInstanceCount=ht,t.getLiveInheritedInstances=dt,t.flushPendingDeletes=yt,t.setDelayFunction=gt,Ut.prototype.getPointee=Dt,Ut.prototype.destructor=It,Ut.prototype.argPackAdvance=8,Ut.prototype.readValueFromPointer=xt,Ut.prototype.deleteObject=Mt,Ut.prototype.fromWireType=$t,Bt=t.UnboundTypeError=Y(Error,"UnboundTypeError"),t.count_emval_handles=te,t.get_first_emval=ee;var de,ve={g:function(t,e,n){throw new V(t).init(e,n),t},p:function(t,e,n,r,i){},k:function(t,e,n,r,i){var o=L(n);ot(t,{name:e=G(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?r:i},argPackAdvance:8,readValueFromPointer:function(t){var r;if(1===n)r=v;else if(2===n)r=m;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+e);r=b}return this.fromWireType(r[t>>o])},destructorFunction:null})},f:function(e,n,r,i,o,a,s,u,c,l,f,p,h){f=G(f),a=Lt(o,a),u&&(u=Lt(s,u)),l&&(l=Lt(c,l)),h=Lt(p,h);var d=J(f);!function(e,n,r){t.hasOwnProperty(e)?((void 0===r||void 0!==t[e].overloadTable&&void 0!==t[e].overloadTable[r])&&et("Cannot register public name '"+e+"' twice"),Ot(t,e,e),t.hasOwnProperty(r)&&et("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),t[e].overloadTable[r]=n):(t[e]=n,void 0!==r&&(t[e].numArguments=r))}(d,(function(){Nt("Cannot construct "+f+" due to unbound types",[i])})),it([e,n,r],i?[i]:[],(function(n){var r,o;n=n[0],o=i?(r=n.registeredClass).instancePrototype:kt.prototype;var s=Q(d,(function(){if(Object.getPrototypeOf(this)!==c)throw new tt("Use 'new' to construct "+f);if(void 0===p.constructor_body)throw new tt(f+" has no accessible constructor");var t=p.constructor_body[arguments.length];if(void 0===t)throw new tt("Tried to invoke ctor of "+f+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(p.constructor_body).toString()+") parameters instead!");return t.apply(this,arguments)})),c=Object.create(o,{constructor:{value:s}});s.prototype=c;var p=new Wt(f,s,c,h,r,a,u,l),v=new Ut(f,p,!0,!1,!1),y=new Ut(f+"*",p,!1,!1,!1),m=new Ut(f+" const*",p,!1,!0,!1);return pt[e]={pointerType:y,constPointerType:m},function(e,n,r){t.hasOwnProperty(e)||rt("Replacing nonexistant public symbol"),void 0!==t[e].overloadTable&&void 0!==r?t[e].overloadTable[r]=n:(t[e]=n,t[e].argCount=r)}(d,s),[v,y,m]}))},e:function(t,e,n,r,i,o){var a;e>0||R(a);var s=qt(e,n);i=Lt(r,i),it([],[t],(function(t){var n="constructor "+(t=t[0]).name;if(void 0===t.registeredClass.constructor_body&&(t.registeredClass.constructor_body=[]),void 0!==t.registeredClass.constructor_body[e-1])throw new tt("Cannot register multiple constructors with identical number of parameters ("+(e-1)+") for class '"+t.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return t.registeredClass.constructor_body[e-1]=function(){Nt("Cannot construct "+t.name+" due to unbound types",s)},it([],s,(function(r){return r.splice(1,0,null),t.registeredClass.constructor_body[e-1]=Zt(n,r,null,i,o),[]})),[]}))},d:function(t,e,n,r,i,o,a,s,u){var c=qt(n,r);e=G(e),o=Lt(i,o),it([],[t],(function(t){var r=(t=t[0]).name+"."+e;function i(){Nt("Cannot call "+r+" due to unbound types",c)}e.startsWith("@@")&&(e=Symbol[e.substring(2)]),s&&t.registeredClass.pureVirtualFunctions.push(e);var l=t.registeredClass.instancePrototype,f=l[e];return void 0===f||void 0===f.overloadTable&&f.className!==t.name&&f.argCount===n-2?(i.argCount=n-2,i.className=t.name,l[e]=i):(Ot(l,e,r),l[e].overloadTable[n-2]=i),it([],c,(function(i){var s=Zt(r,i,t,o,a,u);return void 0===l[e].overloadTable?(s.argCount=n-2,l[e]=s):l[e].overloadTable[n-2]=s,[]})),[]}))},c:function(t,e,n,r,i,o,a,s,u,c){e=G(e),i=Lt(r,i),it([],[t],(function(t){var r=(t=t[0]).name+"."+e,l={get:function(){Nt("Cannot access "+r+" due to unbound types",[n,a])},enumerable:!0,configurable:!0};return l.set=u?function(){Nt("Cannot access "+r+" due to unbound types",[n,a])}:function(t){et(r+" is a read-only property")},Object.defineProperty(t.registeredClass.instancePrototype,e,l),it([],u?[n,a]:[n],(function(n){var a=n[0],l={get:function(){var e=Xt(this,t,r+" getter");return a.fromWireType(i(o,e))},enumerable:!0};if(u){u=Lt(s,u);var f=n[1];l.set=function(e){var n=Xt(this,t,r+" setter"),i=[];u(c,n,f.toWireType(i,e)),Kt(i)}}return Object.defineProperty(t.registeredClass.instancePrototype,e,l),[]})),[]}))},u:function(t,e){ot(t,{name:e=G(e),fromWireType:function(t){var e=ne.toValue(t);return Yt(t),e},toWireType:function(t,e){return ne.toHandle(e)},argPackAdvance:8,readValueFromPointer:xt,destructorFunction:null})},j:function(t,e,n){var r=L(n);ot(t,{name:e=G(e),fromWireType:function(t){return t},toWireType:function(t,e){return e},argPackAdvance:8,readValueFromPointer:ie(e,r),destructorFunction:null})},b:function(t,e,n,r,i){e=G(e),-1===i&&(i=4294967295);var o=L(n),a=function(t){return t};if(0===r){var s=32-8*n;a=function(t){return t<<s>>>s}}var u=e.includes("unsigned");ot(t,{name:e,fromWireType:a,toWireType:u?function(t,e){return this.name,e>>>0}:function(t,e){return this.name,e},argPackAdvance:8,readValueFromPointer:oe(e,o,0!==r),destructorFunction:null})},a:function(t,e,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function i(t){var e=w,n=e[t>>=2],i=e[t+1];return new r(e.buffer,i,n)}ot(t,{name:n=G(n),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},i:function(t,e){var n="std::string"===(e=G(e));ot(t,{name:e,fromWireType:function(t){var e,r=w[t>>2],i=t+4;if(n)for(var o=i,a=0;a<=r;++a){var s=i+a;if(a==r||0==y[s]){var u=S(o,s-o);void 0===e?e=u:(e+=String.fromCharCode(0),e+=u),o=s+1}}else{var c=new Array(r);for(a=0;a<r;++a)c[a]=String.fromCharCode(y[i+a]);e=c.join("")}return ge(t),e},toWireType:function(t,e){var r;e instanceof ArrayBuffer&&(e=new Uint8Array(e));var i="string"==typeof e;i||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||et("Cannot pass non-string to std::string"),r=n&&i?function(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);r<=127?e++:r<=2047?e+=2:r>=55296&&r<=57343?(e+=4,++n):e+=3}return e}(e):e.length;var o=me(4+r+1),a=o+4;if(w[o>>2]=r,n&&i)!function(t,e,n,r){if(!(r>0))return 0;for(var i=n+r-1,o=0;o<t.length;++o){var a=t.charCodeAt(o);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++o)),a<=127){if(n>=i)break;e[n++]=a}else if(a<=2047){if(n+1>=i)break;e[n++]=192|a>>6,e[n++]=128|63&a}else if(a<=65535){if(n+2>=i)break;e[n++]=224|a>>12,e[n++]=128|a>>6&63,e[n++]=128|63&a}else{if(n+3>=i)break;e[n++]=240|a>>18,e[n++]=128|a>>12&63,e[n++]=128|a>>6&63,e[n++]=128|63&a}}e[n]=0}(e,y,a,r+1);else if(i)for(var s=0;s<r;++s){var u=e.charCodeAt(s);u>255&&(ge(a),et("String has UTF-16 code units that do not fit in 8 bits")),y[a+s]=u}else for(s=0;s<r;++s)y[a+s]=e[s];return null!==t&&t.push(ge,o),o},argPackAdvance:8,readValueFromPointer:xt,destructorFunction:function(t){ge(t)}})},h:function(t,e,n){var r,i,o,a,s;n=G(n),2===e?(r=se,i=ue,a=ce,o=function(){return g},s=1):4===e&&(r=le,i=fe,a=pe,o=function(){return w},s=2),ot(t,{name:n,fromWireType:function(t){for(var n,i=w[t>>2],a=o(),u=t+4,c=0;c<=i;++c){var l=t+4+c*e;if(c==i||0==a[l>>s]){var f=r(u,l-u);void 0===n?n=f:(n+=String.fromCharCode(0),n+=f),u=l+e}}return ge(t),n},toWireType:function(t,r){"string"!=typeof r&&et("Cannot pass non-string to C++ string type "+n);var o=a(r),u=me(4+o+e);return w[u>>2]=o>>s,i(r,u+4,o+e),null!==t&&t.push(ge,u),u},argPackAdvance:8,readValueFromPointer:xt,destructorFunction:function(t){ge(t)}})},l:function(t,e){ot(t,{isVoid:!0,name:e=G(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(t,e){}})},m:Yt,n:function(t){t>4&&(Qt[t].refcount+=1)},o:function(t,e){var n,r,i;r="_emval_take_value",void 0===(i=q[n=t])&&et(r+" has unknown type "+Gt(n));var o=(t=i).readValueFromPointer(e);return ne.toHandle(o)},q:function(){R("")},s:function(){return Date.now()},t:function(t,e,n){y.copyWithin(t,e,e+n)},r:function(t){var e=y.length,n=2147483648;if((t>>>=0)>n)return!1;for(var r,i,o=1;o<=4;o*=2){var a=e*(1+.2/o);if(a=Math.min(a,t+100663296),he(Math.min(n,(r=Math.max(t,a))+((i=65536)-r%i)%i)))return!0}return!1}},ye=(function(){var e,n,r,i,o={a:ve};function s(e,n){var r,i=e.exports;return t.asm=i,h=t.asm.v,A(),C=t.asm.x,r=t.asm.w,O.unshift(r),function(e){if(j--,t.monitorRunDependencies&&t.monitorRunDependencies(j),0==j&&(null!==E&&(clearInterval(E),E=null),F)){var n=F;F=null,n()}}(),i}if(j++,t.monitorRunDependencies&&t.monitorRunDependencies(j),t.instantiateWasm)try{return t.instantiateWasm(o,s)}catch(t){d("Module.instantiateWasm callback failed with error: "+t),a(t)}(e=p,n=x,r=o,i=function(t){s(t.instance)},e||"function"!=typeof WebAssembly.instantiateStreaming||M(n)||"function"!=typeof fetch?z(n,r,i):fetch(n,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(i,(function(t){return d("wasm streaming compile failed: "+t),d("falling back to ArrayBuffer instantiation"),z(n,r,i)}))}))).catch(a)}(),t.___getTypeName=function(){return(ye=t.___getTypeName=t.asm.y).apply(null,arguments)}),me=(t.__embind_initialize_bindings=function(){return(t.__embind_initialize_bindings=t.asm.z).apply(null,arguments)},function(){return(me=t.asm.A).apply(null,arguments)}),ge=function(){return(ge=t.asm.B).apply(null,arguments)},be=function(){return(be=t.asm.C).apply(null,arguments)};function we(){function n(){de||(de=!0,t.calledRun=!0,T||(H(O),e(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)e=t.postRun.shift(),W.unshift(e);var e;H(W)}()))}j>0||(function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)e=t.preRun.shift(),k.unshift(e);var e;H(k)}(),j>0||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),n()}),1)):n()))}if(F=function t(){de||we(),de||(F=t)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return we(),t.ready}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})})},700:function(t,e,n){n(8011),n(5003),n(9070),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(9653);var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=o(n(5232)),l=n(2857),f=u(n(5079)),p=u(n(9191)),h=u(n(4109)),d=function(){function t(t,e,n,r,i,o){void 0===e&&(e=.1),void 0===n&&(n=1),void 0===r&&(r=10),void 0===i&&(i=100),void 0===o&&(o=.5),this.numberOfPlanets=t,this.g=e,this.minMass=n,this.maxMass=r,this.distributionRange=i,this.initialVelocityScalar=o}return t.prototype.initWasmSimulator=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return t=this,[4,(0,h.default)()];case 1:return t.wasmSimulatorModule=e.sent(),this.planetGeometries=[],[2]}}))}))},t.prototype.initScene=function(){this.scene=new c.Scene,this.scene.background=new c.Color(725011),this.scene.fog=new c.FogExp2(725011,.001)},t.prototype.initLighting=function(t){var e=new c.DirectionalLight(16777215);e.position.set(1,1,1),t.add(e);var n=new c.DirectionalLight(8840);n.position.set(-1,-1,-1),t.add(n);var r=new c.AmbientLight(2236962);t.add(r)},t.prototype.initCamera=function(){this.camera=new c.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=1.2*this.distributionRange},t.prototype.initControls=function(t,e){this.controls=new l.TrackballControls(t,e.domElement),this.controls.rotateSpeed=3,this.controls.zoomSpeed=1.2,this.controls.panSpeed=.2,this.controls.keys=["KeyA","KeyS","KeyD"]},t.prototype.initRenderer=function(){this.renderer=new c.WebGLRenderer({antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(this.renderer.domElement)},t.prototype.initStats=function(){this.stats=new f.default,document.body.appendChild(this.stats.dom)},t.prototype.init=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.initWasmSimulator()];case 1:return t.sent(),this.initScene(),this.initLighting(this.scene),this.initCamera(),this.initRenderer(),this.initStats(),this.initControls(this.camera,this.renderer),[2,this]}}))}))},t.prototype.start=function(){this.simulator=new this.wasmSimulatorModule.Simulator(this.numberOfPlanets,this.g,this.minMass,this.maxMass,this.distributionRange,this.initialVelocityScalar),this.placePlanets(this.simulator.getPlanets()),this.update()},t.prototype.update=function(){var t=this;this.animationFrameRequestId=window.requestAnimationFrame((function(){return t.update()})),this.updatePlanets(this.simulator.update()),this.controls.update(),this.stats.update(),this.renderer.render(this.scene,this.camera)},t.prototype.placePlanets=function(t){for(var e=0;e<this.numberOfPlanets;e++){var n=t.get(e),r=3*n.mass/4*Math.PI,i=(0,p.default)(e*r),o=new c.MeshPhongMaterial({color:Number("0x".concat(i.color.substring(1))),flatShading:!1}),a=new c.SphereGeometry(r,64,32),s=new c.Mesh(a,o);s.position.x=n.x,s.position.y=n.y,s.position.z=n.z,this.scene.add(s),this.planetGeometries[e]=s}},t.prototype.updatePlanets=function(t){for(var e=0;e<this.numberOfPlanets;e++){var n=t.get(e),r=this.planetGeometries[e];r.position.x=n.x,r.position.y=n.y,r.position.z=n.z}},t.prototype.dispose=function(){window.cancelAnimationFrame(this.animationFrameRequestId),this.renderer.dispose(),this.renderer.domElement.remove(),this.simulator.delete()},t}();e.default=d},7454:function(t,e,n){n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(9070),n(9494),n(9653),n(2564);var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(5504);var a=o(n(700));function s(t){var e=new a.default(t,.8,1,6,400);return e.init().then((function(){return e.start()})),e}!function(){r(this,void 0,void 0,(function(){var t,e,n;return i(this,(function(r){return t=document.querySelector("input"),e=s(Number.parseInt(t.value)),t.addEventListener("input",(function(){clearTimeout(n),n=setTimeout((function(){e.dispose();var n,r=(n=t.value,Math.min(Math.max(Number.parseInt(n),2),1e3));t.value="".concat(r),e=s(r)}),350)})),[2]}))}))}()},5504:(t,e,n)=>{n.r(e)},3181:(t,e,n)=>{t.exports=n.p+"assets/Simulator.931c36b8.wasm"}},t=>{t.O(0,[227],(()=>{return e=7454,t(t.s=e);var e}));t.O()}]);